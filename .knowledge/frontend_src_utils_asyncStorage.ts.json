{"is_source_file": true, "format": "TypeScript", "description": "This file provides an abstraction layer for asynchronous storage across different platforms (web and native) in a React Native environment. It defines interfaces for storage operations, implements web-based localStorage fallback, and attempts to dynamically import a native async storage module, with graceful fallback to no-operation behavior if unavailable.", "external_files": ["@react-native-async-storage/async-storage"], "external_methods": ["import", "Platform.OS", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem"], "published": ["IAsyncStorage", "storage"], "classes": [], "methods": [{"name": "createWebStorage", "description": "Creates a storage object using web localStorage with safe checks and error handling."}, {"name": "createNoopStorage", "description": "Creates a storage object that performs no operations, returning null or doing nothing."}, {"name": "getNative", "description": "Attempts to dynamically import the native async-storage module, with caching of the promise."}, {"name": "getItem(key: string): Promise<string | null>; getItem", "scope": "IAsyncStorage", "scopeKind": "interface", "description": "unavailable"}, {"name": "removeItem(key: string): Promise<void>; removeItem", "scope": "IAsyncStorage", "scopeKind": "interface", "description": "unavailable"}, {"name": "setItem(key: string, value: string): Promise<void>; setItem", "scope": "IAsyncStorage", "scopeKind": "interface", "description": "unavailable"}], "calls": ["import('@react-native-async-storage/async-storage')", "Platform.OS === 'web'", "nativeModulePromise.then", "Native.getItem", "Native.setItem", "Native.removeItem"], "search-terms": ["async storage", "react-native async storage", "platform-specific storage", "dynamic import", "fallback storage", "web localStorage", "react-native native storage"], "state": 2, "file_id": 14, "knowledge_revision": 39, "git_revision": "fb5d68ed68dcfecaef1a7c36a30086248d15c4e9", "revision_history": [{"33": ""}, {"36": ""}, {"37": "fb5d68ed68dcfecaef1a7c36a30086248d15c4e9"}, {"39": "fb5d68ed68dcfecaef1a7c36a30086248d15c4e9"}], "ctags": [{"_type": "tag", "name": "IAsyncStorage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^export interface IAsyncStorage {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "Native", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^        const Native = await getNative();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NativeAsyncStorageModule", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^type NativeAsyncStorageModule = IAsyncStorage;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "createNoopStorage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^const createNoopStorage = (): IAsyncStorage => ({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createWebStorage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^const createWebStorage = (): IAsyncStorage => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getItem", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^  getItem(key: string): Promise<string | null>;$/", "language": "TypeScript", "kind": "method", "scope": "IAsyncStorage", "scopeKind": "interface"}, {"_type": "tag", "name": "getNative", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^  const getNative = async (): Promise<NativeAsyncStorageModule> => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "nativeModulePromise", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^  let nativeModulePromise: Promise<NativeAsyncStorageModule> | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "removeItem", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^  removeItem(key: string): Promise<void>;$/", "language": "TypeScript", "kind": "method", "scope": "IAsyncStorage", "scopeKind": "interface"}, {"_type": "tag", "name": "setItem", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^  setItem(key: string, value: string): Promise<void>;$/", "language": "TypeScript", "kind": "method", "scope": "IAsyncStorage", "scopeKind": "interface"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^let storage: IAsyncStorage;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-146698-146710/frontend/src/utils/asyncStorage.ts", "pattern": "/^        const value = safeLocalStorage.getItem(key);$/", "language": "TypeScript", "kind": "constant"}], "hash": "fb481186a93b6392c645b18389114fab", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/utils/asyncStorage.ts", "fields": [{"name": "export interface IAsyncStorage {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let nativeModulePromise: Promise<NativeAsyncStorageModule> | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let storage: IAsyncStorage;", "scope": "", "scopeKind": "", "description": "unavailable"}]}